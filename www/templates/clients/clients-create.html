<ion-view cache-view="true">
    <ion-nav-title>Новый клиент</ion-nav-title>
    <ion-nav-buttons side="right">
        <button class="button button-clear icon ion-android-done"
                ng-click="create()">
        </button>
    </ion-nav-buttons>
    <ion-content>

        <ion-list>
            <ion-item class="item-input">
                <span class="input-label">Имя</span>
                <input type="text"
                       ng-model="data.name"/>
            </ion-item>
        </ion-list>

        <!-- ------------- -->

        <ion-item class="item-divider item-icon-right">
            Добавить в группы
        </ion-item>

        <ion-item ng-repeat="groupId in data.consists"

                  class="smart-collapse__child item-button-right">

            {{ ResourceCache.get('groups/'+groupId ).name }}

            <button class="button button-small button-clear"
                    ng-click="data.consists.remove( groupId )">
                <i class="icon ion-close"></i>
            </button>

        </ion-item>


        <button class="item button button-balanced button-clear button-full"
                ng-click="SearchModal.open({
                            title: 'Найти группу',
                            resourceType: 'Groups',
                            arrayToPush: data.consists
                        })">
            Добавить
        </button>

        <!-- ------------- -->

    </ion-content>
</ion-view>